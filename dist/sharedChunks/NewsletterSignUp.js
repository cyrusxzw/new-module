"use strict";var e=require("./_rollupPluginBabelHelpers.js"),t=require("react"),n=require("prop-types"),r=require("classnames");require("./AddToCartContext.js"),require("./GoogleMapsContext.js"),require("./ErrorContext.js"),require("./LoadMoreContext.js"),require("./NavBarThemeContext.js");var s=require("./NotificationContext.js");require("./ProductDetailContext.js"),require("./ThemeContext.js"),require("./VariantSelectContext.js");var i=require("./Icon.js"),o=require("./Loading.js"),a=require("./Checkbox.js"),l=require("./TextInput.js"),p=require("./style-inject.es.js");function _(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=_(t),g=_(n),u=_(r),c={base:"NewsletterSignUp_base__3CwHo",signUpIcon:"NewsletterSignUp_signUpIcon__3jhSg",loading:"NewsletterSignUp_loading__1ebG4",dark:"NewsletterSignUp_dark__2rlXg",light:"NewsletterSignUp_light__1RYk_",inputField:"NewsletterSignUp_inputField__nc3G1",footerNewsletterInputWrapper:"NewsletterSignUp_footerNewsletterInputWrapper__eNu9l",button:"NewsletterSignUp_button__sFcRU",hasError:"NewsletterSignUp_hasError__3lif0",footerNewsletter:"NewsletterSignUp_footerNewsletter__32txg",subscriptionMessage:"NewsletterSignUp_subscriptionMessage__3gL-X",footerNewsletterErrorMessage:"NewsletterSignUp_footerNewsletterErrorMessage__1dVax",termsAndConditionWrapper:"NewsletterSignUp_termsAndConditionWrapper__3N5ij",termsAndCondition:"NewsletterSignUp_termsAndCondition__3e4gO"};p.styleInject(":root {\n  /* Base colours */\n\n  /* UI colours light theme */\n\n  /* UI colours dark theme */\n\n  /* Background colours */\n\n  /* System colours */\n\n  /* Secondary Message background colour */\n}\n/* 320w (568h) */\n/* 639w (800h) */\n/* 1024w (768h) */\n/* 1219w (720h) */\n/* 1599w (900h) */\n/* 1919w (1080h) */\n/* 2399w (1200h) */\n/* 2560w (1440h) */\n/**\n * Device breakpoints - Google Chrome recomendations\n * Mobile S -    0 - 320w  (568h)\n * Mobile M -  321 - 375w  (812h)\n * Mobile L -  376 - 425w  (736h)\n * Tablet   -  426 - 768w  (1024h)\n * Laptop   -  769 - 1024w (576h)\n * Laptop L - 1025 - 1440w (900h)\n * 4K       - 1441 - 2560w (1440h)\n * Cinema   - 2561w ~\n *\n * Aesop Device breakpoints\n * Extra Small   -    0 - 320w  (568h)\n * Small         -  321 - 639w  (800h)\n * Medium        -  640 - 1024w (768h)\n * Large         - 1025 - 1219w (720h)\n * Extra Large   - 1220 - 1599w (900h)\n * Extra Large 2 - 1600 - 1919w (1080h)\n * Extra Large 3 - 1920 - 2399w (1200h)\n * Extra Large 4 - 2400 - 2560w (1440h)\n */\n/** https://github.com/postcss/postcss-custom-properties/issues/24\n :root {\n  --breakpoint-xs-min: 0;\n  --breakpoint-xs-max: 320px;\n  --breakpoint-sm-min: 321px;\n  --breakpoint-sm-max: 639px;\n  --breakpoint-md-min: 640px;\n  --breakpoint-md-max: 1024px;\n  --breakpoint-lg-min: 1025px;\n  --breakpoint-lg-max: 1219px;\n  --breakpoint-xl-min: 1220px;\n  --breakpoint-xl-max: 1599px;\n  --breakpoint-x2l-min: 1600px;\n  --breakpoint-x2l-max: 1919px;\n  --breakpoint-x3l-min: 1920px;\n  --breakpoint-x3l-max: 2399px;\n  --breakpoint-x4l-min: 2400px;\n} */\n/* Dark theme UI elements */\n/* Light theme UI elements */\n.NewsletterSignUp_base__3CwHo {\n  position: relative;\n}\n.NewsletterSignUp_signUpIcon__3jhSg,\n.NewsletterSignUp_loading__1ebG4 {\n  fill: #ea6956;\n}\n.NewsletterSignUp_signUpIcon__3jhSg.NewsletterSignUp_dark__2rlXg, .NewsletterSignUp_loading__1ebG4.NewsletterSignUp_dark__2rlXg {\n    fill: #333;\n  }\n.NewsletterSignUp_signUpIcon__3jhSg.NewsletterSignUp_light__1RYk_, .NewsletterSignUp_loading__1ebG4.NewsletterSignUp_light__1RYk_ {\n    fill: #fffef2;\n  }\n.NewsletterSignUp_inputField__nc3G1 {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n}\n.NewsletterSignUp_footerNewsletterInputWrapper__eNu9l {\n  -webkit-box-flex: 1;\n      -ms-flex: 1 0 auto;\n          flex: 1 0 auto;\n}\n.NewsletterSignUp_button__sFcRU {\n  height: 37px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-box-flex: 0;\n      -ms-flex: 0 0 auto;\n          flex: 0 0 auto;\n  border: 1px solid #333;\n  border-left: 0;\n  margin-left: 0;\n  background: transparent;\n  border-radius: 0 3px 3px 0;\n  cursor: pointer;\n  font-size: 20px;\n}\n.NewsletterSignUp_button__sFcRU.NewsletterSignUp_dark__2rlXg {\n    border-color: #333;\n  }\n.NewsletterSignUp_button__sFcRU.NewsletterSignUp_light__1RYk_ {\n    border-color: #fffef2;\n  }\n.NewsletterSignUp_button__sFcRU.NewsletterSignUp_hasError__3lif0 {\n    border-color: #ea6956;\n  }\n.NewsletterSignUp_button__sFcRU:focus {\n    outline: none;\n  }\n.NewsletterSignUp_footerNewsletter__32txg {\n  height: 37px;\n  border-right: 0;\n  border-radius: 3px 0 0 3px;\n}\n.NewsletterSignUp_loading__1ebG4 {\n  position: absolute;\n  top: 18px;\n}\n.NewsletterSignUp_subscriptionMessage__3gL-X {\n  margin-top: 7px;\n  font-family: 'Suisse Regular', sans-serif;\n  font-size: 14px;\n  line-height: 2.14;\n}\n.NewsletterSignUp_subscriptionMessage__3gL-X.NewsletterSignUp_dark__2rlXg {\n    color: #333;\n  }\n.NewsletterSignUp_subscriptionMessage__3gL-X.NewsletterSignUp_light__1RYk_ {\n    color: #fffef2;\n  }\n.NewsletterSignUp_footerNewsletterErrorMessage__1dVax {\n  color: #ea6956;\n}\n.NewsletterSignUp_termsAndConditionWrapper__3N5ij {\n  padding: 15px 3px 15px 20px;\n  border: 1px solid #fffef2;\n  margin-top: 23px;\n  border-radius: 3px;\n}\n.NewsletterSignUp_termsAndCondition__3e4gO {\n  overflow: scroll;\n  height: 90px;\n  padding-right: 20px;\n  color: #fffef2;\n  font-family: 'Suisse Regular', sans-serif;\n  font-size: 12px;\n  line-height: 1.67;\n  overflow-x: hidden;\n}\n.NewsletterSignUp_termsAndCondition__3e4gO::-webkit-scrollbar {\n    width: 5px;\n    height: 100%;\n  }\n.NewsletterSignUp_termsAndCondition__3e4gO::-webkit-scrollbar-thumb {\n    background: #fffef2;\n    border-radius: 3px;\n  }\n");var f=function(n){var r=n.className,p=n.consentErrorMsg,_=n.errorMessage,g=n.onClick,f=n.showTermsConditionsTextBox,m=n.termsAndCondition,x=n.termsMessage,w=n.theme,b=n.subscriptionMessage,N=t.useState(!1),h=e._slicedToArray(N,2),S=h[0],U=h[1],k=t.useState(void 0),C=e._slicedToArray(k,2),E=C[0],v=C[1],M=t.useState(!1),I=e._slicedToArray(M,2),A=I[0],T=I[1],j=t.useState(void 0),L=e._slicedToArray(j,2),y=L[0],R=L[1],q=t.useState(!1),G=e._slicedToArray(q,2),B=G[0],X=G[1],F=t.useState(!1),O=e._slicedToArray(F,2),P=O[0],W=O[1],D=u.default(c.inputField,c[w],r),z=u.default(c.button,c[w],!!y&&c.hasError),H=u.default(c.signUpIcon,c[w]),Y=u.default(c.loading,c[w]),K=u.default(c.subscriptionMessage,c[w]),V=s.useNotificationContext(),Z=V.actionType,$=V.dispatch,J=function(){var t=e._asyncToGenerator(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),R(void 0),r=void 0,r=String(E),!(!r||!!r.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i))||!(!f||B&&P)){e.next=11;break}return T(!0),e.next=7,g(E);case 7:T(!1),$({type:Z}),e.next=14;break;case 11:n=_,!f||B&&P||(n=p),R(n);case 14:case"end":return e.stop()}var r}),e)})));return function(e){return t.apply(this,arguments)}}();return d.default.createElement("div",{className:c.base},d.default.createElement("form",{onSubmit:J},d.default.createElement("div",{className:D},d.default.createElement("div",{className:c.footerNewsletterInputWrapper},d.default.createElement(l.TextInput,{"data-test-ref":"EMAIL_SIGN_UP_INPUT",hasContent:S,hasError:!!y,id:"newsletter-email",inputClassName:u.default(c.footerNewsletter),isEnabled:!A,label:"Email Address",name:"newsletter-email",onChange:function(e){v(e.target.value),U(e.target.value&&""!==e.target.value.trim())},theme:w})),d.default.createElement("button",{className:z,"data-test-ref":"EMAIL_SIGN_UP_BUTTON",disabled:!!A||!S},d.default.createElement(i.Icon,{className:H,name:"rightArrow",theme:w})),!!A&&d.default.createElement(o.Loading,{className:Y,isLoading:!0,theme:w})),d.default.createElement("div",{className:c.footerNewsletterErrorMessage},y),f?d.default.createElement("section",null,d.default.createElement(a.Checkbox,{content:b,dataTestRef:"EMAIL_SIGN_UP_SUBSCRIPTION_CHECKBOX",id:"subscription",isEnabled:!A,onChange:function(){return X(!B)},theme:w}),d.default.createElement(a.Checkbox,{content:x,dataTestRef:"EMAIL_SIGN_UP_TERMS_AND_CONDITIONS_CHECKBOX",id:"terms",isEnabled:!A,onChange:function(){return W(!P)},theme:w}),d.default.createElement("div",{className:c.termsAndConditionWrapper},d.default.createElement("div",{className:c.termsAndCondition},m))):d.default.createElement("div",{className:K},b)))};f.propTypes={className:g.default.string,consentErrorMsg:g.default.string,errorMessage:g.default.string,onClick:g.default.func,showTermsConditionsTextBox:g.default.bool,termsAndCondition:g.default.string,termsMessage:g.default.string,theme:g.default.string,subscriptionMessage:g.default.string},f.defaultProps={className:void 0,consentErrorMsg:void 0,errorMessage:"NEWSLETTER_SIGNUP",onClick:void 0,showTermsConditionsTextBox:!1,termsAndCondition:void 0,termsMessage:void 0,theme:"dark",subscriptionMessage:void 0},exports.NewsletterSignUp=f;
