"use strict";var e=require("./tslib.es6.js"),t=require("react"),r=Object.prototype.hasOwnProperty;function n(e,t,r){for(r of e.keys())if(i(r,t))return r}function i(e,t){var u,f,o;if(e===t)return!0;if(e&&t&&(u=e.constructor)===t.constructor){if(u===Date)return e.getTime()===t.getTime();if(u===RegExp)return e.toString()===t.toString();if(u===Array){if((f=e.length)===t.length)for(;f--&&i(e[f],t[f]););return-1===f}if(u===Set){if(e.size!==t.size)return!1;for(f of e){if((o=f)&&"object"==typeof o&&!(o=n(t,o)))return!1;if(!t.has(o))return!1}return!0}if(u===Map){if(e.size!==t.size)return!1;for(f of e){if((o=f[0])&&"object"==typeof o&&!(o=n(t,o)))return!1;if(!i(f[1],t.get(o)))return!1}return!0}if(u===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(u===DataView){if((f=e.byteLength)===t.byteLength)for(;f--&&e.getInt8(f)===t.getInt8(f););return-1===f}if(ArrayBuffer.isView(e)){if((f=e.byteLength)===t.byteLength)for(;f--&&e[f]===t[f];);return-1===f}if(!u||"object"==typeof e){for(u in f=0,e){if(r.call(e,u)&&++f&&!r.call(t,u))return!1;if(!(u in t)||!i(e[u],t[u]))return!1}return Object.keys(t).length===f}}return e!=e&&t!=t}function u(e){return null==e||/^[sbn]/.test(typeof e)}function f(e,r){return"production"!==process.env.NODE_ENV&&function(e){if(!e||!e.length)throw new Error("useDeepCompareEffect should not be used with no dependencies. Use React.useEffect instead.");if(e.every(u))throw new Error("useDeepCompareEffect should not be used with dependencies that are all primitive values. Use React.useEffect instead.")}(r),t.useEffect(e,(n=r,f=t.useRef(),o=t.useRef(0),i(n,f.current)||(f.current=n,o.current+=1),[o.current]));var n,f,o}var o="undefined"!=typeof window;exports.useImageTransition=function(r,n,i,u){void 0===i&&(i=600),void 0===u&&(u={});var s=t.useState({}),c=s[0],a=s[1],l=t.useState(!1),p=l[0],d=l[1],g=t.useRef(null);return f((function(){var t=n.current||null;d(!1);var f=function(){d(!0)};return o&&t&&(g.current=setTimeout((function(){a(e.__assign(e.__assign({},r),u)),t.complete?f():t.addEventListener("load",f)}),i)),function(){o&&clearTimeout(g.current),t&&t.removeEventListener("load",f)}}),[r,n]),[c,p]};
