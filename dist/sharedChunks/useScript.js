"use strict";var e=require("react"),r=require("./environment.js");exports.useScript=function(t){var n=t.async,i=void 0===n||n,o=t.dataSet,d=t.defer,c=void 0!==d&&d,s=t.id,u=t.onLoad,a=t.shouldCheckForExisting,v=void 0===a||a,f=t.src,l=e.useState(!0),m=l[0],E=l[1],h=e.useState(null),p=h[0],y=h[1];return e.useEffect((function(){if(f){if(r.isInBrowser()){if(v)if(document.querySelectorAll('script[src="'+f+'"]').length>0)return void E(!1);var e=document.createElement("script");e.src=f,e.async=i,e.defer=c,s&&(e.id=s),o&&Object.keys(o).forEach((function(r){e.dataset[r]=o[r]}));var t=function(){E(!1),u&&u()},n=function(e){y(e),E(!1)};return e.addEventListener("load",t),e.addEventListener("error",n),document.body.appendChild(e),function(){e.removeEventListener("load",t),e.removeEventListener("error",n),document.body.removeChild(e)}}}else E(!1)}),[f]),[m,p]};
