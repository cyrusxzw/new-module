"use strict";var e=require("react"),t=require("classnames");require("./viewports.js");var l=require("./useOnScreen.js");require("./environment.js"),require("./isSymbol.js");var a=require("./Image.js"),n=require("./Hyperlink.js"),s=require("./Transition.js"),r=require("./ContentHubArticle.module.js");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=i(e),o=i(t);exports.ContentHubArticle=function(t){var i,c,d,f,m=t.articleRef,v=t.category,y=t.className,E=t.dataTestRef,T=t.horizontalThumbnail,N=t.id,g=t.isHorizontal,M=void 0!==g&&g,p=t.isInFirstGroup,R=void 0!==p&&p,I=t.isMenuItem,H=void 0!==I&&I,k=t.isReadMore,q=void 0!==k&&k,A=t.longTitle,C=t.onClick,L=t.readingTime,b=t.uri,j=t.verticalThumbnail,B=e.useRef(null),z=m||B,_=l.useOnScreen(z,.5),x=M?T:j,h=o.default(r.styles.base,y,((i={})[r.styles.readMoreArticle]=!!q,i)),O=o.default(r.styles.category,((c={})[r.styles.readMoreCategory]=!!q,c)),U=o.default(r.styles.image),S=e.useRef(null),w=o.default(r.styles.image,r.styles.nonMobile),D=e.useRef(null),F=o.default(r.styles.note,((d={})[r.styles.readMoreNote]=!!q,d)),G=o.default(r.styles.image,r.styles.mobile),J=e.useRef(null),K=o.default(r.styles.title,((f={})[r.styles.readMoreTitle]=!!q,f)),P=e.useRef(null),Q=function(){(null==P?void 0:P.current.getElementsByClassName(K)[0].getElementsByTagName("span")[0]).className=o.default(r.styles.title,r.styles.titleActive)},V=function(){var e,t;(null===(t=null===(e=null==P?void 0:P.current)||void 0===e?void 0:e.getElementsByClassName(K)[0])||void 0===t?void 0:t.getElementsByTagName("span")[0]).className=""};return u.default.createElement(s.Transition,{isActive:R||_,type:"fade"},u.default.createElement("div",{className:h,id:N,ref:z},q&&!H&&u.default.createElement(n.Hyperlink,{className:U,dataTestRef:E+"_READMORE_THUMBNAIL",onClick:C,title:A,url:b},u.default.createElement("div",{onMouseEnter:function(){return Q()},onMouseLeave:function(){return V()}},u.default.createElement(a.Image,{altText:null==x?void 0:x.altText,ref:S,sizes:null==x?void 0:x.sizes}))),!H&&u.default.createElement("div",{className:O},v),u.default.createElement("div",{onMouseEnter:function(){[S,D,J].forEach((function(e){(null==e?void 0:e.current)&&(e.current.className=o.default(r.styles.imageActive))}))},onMouseLeave:function(){[S,D,J].forEach((function(e){(null==e?void 0:e.current)&&(e.current.className=o.default(r.styles.imageUnactive))}))},ref:P},u.default.createElement(n.Hyperlink,{className:K,dataTestRef:E+"_TITLE",onClick:C,title:A,url:b},u.default.createElement("h1",null,u.default.createElement("span",null,A)))),L&&u.default.createElement("div",{className:F},u.default.createElement("span",null,L)),!q&&!H&&u.default.createElement(n.Hyperlink,{className:w,dataTestRef:E+"_NON_MOBILE_THUMBNAIL",onClick:C,title:A,url:b},u.default.createElement("div",{onMouseEnter:function(){return Q()},onMouseLeave:function(){return V()}},u.default.createElement(a.Image,{altText:null==x?void 0:x.altText,className:r.styles.image,ref:D,sizes:null==x?void 0:x.sizes}))),!q&&!H&&u.default.createElement(n.Hyperlink,{className:G,dataTestRef:E+"_MOBILE_THUMBNAIL",onClick:C,title:A,url:b},u.default.createElement("div",{onMouseEnter:function(){return Q()},onMouseLeave:function(){return V()}},u.default.createElement(a.Image,{altText:null==x?void 0:x.altText,className:r.styles.image,ref:J,sizes:null==x?void 0:x.sizes})))))};
