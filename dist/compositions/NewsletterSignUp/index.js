"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../sharedChunks/_rollupPluginBabelHelpers.js"),n=require("react"),t=require("prop-types"),r=require("classnames");require("../../sharedChunks/AddToCartContext.js"),require("../../sharedChunks/GoogleMapsContext.js"),require("../../sharedChunks/ErrorContext.js"),require("../../sharedChunks/LoadMoreContext.js"),require("../../sharedChunks/NavBarThemeContext.js");var s=require("../../sharedChunks/NotificationContext.js");require("../../sharedChunks/ProductDetailContext.js"),require("../../sharedChunks/ThemeContext.js"),require("../../sharedChunks/VariantSelectContext.js");var o=require("../../sharedChunks/Icon.js"),i=require("../../sharedChunks/Loading.js"),a=require("../../sharedChunks/Checkbox.js"),l=require("~/components/TextInput/index.ts"),d=require("../../sharedChunks/style-inject.es.js");function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../sharedChunks/tslib.es6.js"),require("../../sharedChunks/get.js"),require("../../sharedChunks/isSymbol.js"),require("../../sharedChunks/toNumber.js"),require("react-uid");var u=p(n),_=p(t),g=p(r),c={base:"NewsletterSignUp_base__3CwHo",signUpIcon:"NewsletterSignUp_signUpIcon__3jhSg",loading:"NewsletterSignUp_loading__1ebG4",dark:"NewsletterSignUp_dark__2rlXg",light:"NewsletterSignUp_light__1RYk_",inputField:"NewsletterSignUp_inputField__nc3G1",footerNewsletterInputWrapper:"NewsletterSignUp_footerNewsletterInputWrapper__eNu9l",button:"NewsletterSignUp_button__sFcRU",hasError:"NewsletterSignUp_hasError__3lif0",footerNewsletter:"NewsletterSignUp_footerNewsletter__32txg",subscriptionMessage:"NewsletterSignUp_subscriptionMessage__3gL-X",footerNewsletterErrorMessage:"NewsletterSignUp_footerNewsletterErrorMessage__1dVax",termsAndConditionWrapper:"NewsletterSignUp_termsAndConditionWrapper__3N5ij",termsAndCondition:"NewsletterSignUp_termsAndCondition__3e4gO"};d.styleInject(":root {\n  /* Base colours */\n\n  /* UI colours light theme */\n\n  /* UI colours dark theme */\n\n  /* Background colours */\n\n  /* System colours */\n\n  /* Secondary Message background colour */\n}\n/* 320w (568h) */\n/* 639w (800h) */\n/* 1024w (768h) */\n/* 1219w (720h) */\n/* 1599w (900h) */\n/* 1919w (1080h) */\n/* 2399w (1200h) */\n/* 2560w (1440h) */\n/**\n * Device breakpoints - Google Chrome recomendations\n * Mobile S -    0 - 320w  (568h)\n * Mobile M -  321 - 375w  (812h)\n * Mobile L -  376 - 425w  (736h)\n * Tablet   -  426 - 768w  (1024h)\n * Laptop   -  769 - 1024w (576h)\n * Laptop L - 1025 - 1440w (900h)\n * 4K       - 1441 - 2560w (1440h)\n * Cinema   - 2561w ~\n *\n * Aesop Device breakpoints\n * Extra Small   -    0 - 320w  (568h)\n * Small         -  321 - 639w  (800h)\n * Medium        -  640 - 1024w (768h)\n * Large         - 1025 - 1219w (720h)\n * Extra Large   - 1220 - 1599w (900h)\n * Extra Large 2 - 1600 - 1919w (1080h)\n * Extra Large 3 - 1920 - 2399w (1200h)\n * Extra Large 4 - 2400 - 2560w (1440h)\n */\n/** https://github.com/postcss/postcss-custom-properties/issues/24\n :root {\n  --breakpoint-xs-min: 0;\n  --breakpoint-xs-max: 320px;\n  --breakpoint-sm-min: 321px;\n  --breakpoint-sm-max: 639px;\n  --breakpoint-md-min: 640px;\n  --breakpoint-md-max: 1024px;\n  --breakpoint-lg-min: 1025px;\n  --breakpoint-lg-max: 1219px;\n  --breakpoint-xl-min: 1220px;\n  --breakpoint-xl-max: 1599px;\n  --breakpoint-x2l-min: 1600px;\n  --breakpoint-x2l-max: 1919px;\n  --breakpoint-x3l-min: 1920px;\n  --breakpoint-x3l-max: 2399px;\n  --breakpoint-x4l-min: 2400px;\n} */\n/** Current use case\n.ornamentalHover {\n  @extend %ornamentalHover;\n}\n\n.ornamentalHover::after {\n  @extend %ornamentalHoverAfter;\n}\n\n.dark .ornamentalHover::after {\n  @extend %ornamentalHoverDarkTheme;\n}\n\n.light .ornamentalHover::after {\n  @extend %ornamentalHoverLightTheme;\n}\n\n.ornamentalWrapper:hover {\n  .ornamentalHover::after {\n    width: 100%;\n  }\n}\n*/\n/* Dark theme UI elements */\n/* Light theme UI elements */\n.NewsletterSignUp_base__3CwHo {\n  position: relative;\n}\n.NewsletterSignUp_signUpIcon__3jhSg,\n.NewsletterSignUp_loading__1ebG4 {\n  fill: #ea6956;\n}\n.NewsletterSignUp_signUpIcon__3jhSg.NewsletterSignUp_dark__2rlXg, .NewsletterSignUp_loading__1ebG4.NewsletterSignUp_dark__2rlXg {\n    fill: #333;\n  }\n.NewsletterSignUp_signUpIcon__3jhSg.NewsletterSignUp_light__1RYk_, .NewsletterSignUp_loading__1ebG4.NewsletterSignUp_light__1RYk_ {\n    fill: #fffef2;\n  }\n.NewsletterSignUp_inputField__nc3G1 {\n  position: relative;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  width: 100%;\n  -webkit-box-align: end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n}\n.NewsletterSignUp_footerNewsletterInputWrapper__eNu9l {\n  -webkit-box-flex: 1;\n      -ms-flex: 1 0 auto;\n          flex: 1 0 auto;\n}\n.NewsletterSignUp_button__sFcRU {\n  height: 37px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-box-flex: 0;\n      -ms-flex: 0 0 auto;\n          flex: 0 0 auto;\n  border: 1px solid #333;\n  border-left: 0;\n  margin-left: 0;\n  background: transparent;\n  border-radius: 0 3px 3px 0;\n  cursor: pointer;\n  font-size: 20px;\n}\n.NewsletterSignUp_button__sFcRU.NewsletterSignUp_dark__2rlXg {\n    border-color: #333;\n  }\n.NewsletterSignUp_button__sFcRU.NewsletterSignUp_light__1RYk_ {\n    border-color: #fffef2;\n  }\n.NewsletterSignUp_button__sFcRU.NewsletterSignUp_hasError__3lif0 {\n    border-color: #ea6956;\n  }\n.NewsletterSignUp_button__sFcRU:focus {\n    outline: none;\n  }\n.NewsletterSignUp_footerNewsletter__32txg {\n  height: 37px;\n  border-right: 0;\n  border-radius: 3px 0 0 3px;\n}\n.NewsletterSignUp_loading__1ebG4 {\n  position: absolute;\n  top: 18px;\n}\n.NewsletterSignUp_subscriptionMessage__3gL-X {\n  margin-top: 7px;\n  font-family: 'Suisse Regular', sans-serif;\n  font-size: 14px;\n  line-height: 2.14;\n}\n.NewsletterSignUp_subscriptionMessage__3gL-X.NewsletterSignUp_dark__2rlXg {\n    color: #333;\n  }\n.NewsletterSignUp_subscriptionMessage__3gL-X.NewsletterSignUp_light__1RYk_ {\n    color: #fffef2;\n  }\n.NewsletterSignUp_footerNewsletterErrorMessage__1dVax {\n  color: #ea6956;\n}\n.NewsletterSignUp_termsAndConditionWrapper__3N5ij {\n  padding: 15px 3px 15px 20px;\n  border: 1px solid #fffef2;\n  margin-top: 23px;\n  border-radius: 3px;\n}\n.NewsletterSignUp_termsAndCondition__3e4gO {\n  overflow: scroll;\n  height: 90px;\n  padding-right: 20px;\n  color: #fffef2;\n  font-family: 'Suisse Regular', sans-serif;\n  font-size: 12px;\n  line-height: 1.67;\n  overflow-x: hidden;\n}\n.NewsletterSignUp_termsAndCondition__3e4gO::-webkit-scrollbar {\n    width: 5px;\n    height: 100%;\n  }\n.NewsletterSignUp_termsAndCondition__3e4gO::-webkit-scrollbar-thumb {\n    background: #fffef2;\n    border-radius: 3px;\n  }\n");var h=function(t){var r=t.className,d=t.consentErrorMsg,p=t.errorMessage,_=t.onClick,h=t.showTermsConditionsTextBox,m=t.termsAndCondition,f=t.termsMessage,x=t.theme,w=t.subscriptionMessage,b=n.useState(!1),N=e._slicedToArray(b,2),S=N[0],U=N[1],k=n.useState(void 0),C=e._slicedToArray(k,2),v=C[0],E=C[1],M=n.useState(!1),I=e._slicedToArray(M,2),T=I[0],A=I[1],j=n.useState(void 0),y=e._slicedToArray(j,2),L=y[0],q=y[1],R=n.useState(!1),G=e._slicedToArray(R,2),H=G[0],B=G[1],O=n.useState(!1),P=e._slicedToArray(O,2),X=P[0],F=P[1],W=g.default(c.inputField,c[x],r),D=g.default(c.button,c[x],!!L&&c.hasError),z=g.default(c.signUpIcon,c[x]),Y=g.default(c.loading,c[x]),K=g.default(c.subscriptionMessage,c[x]),V=s.useNotificationContext(),Z=V.actionType,$=V.dispatch,J=function(){var n=e._asyncToGenerator(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),q(void 0),r=void 0,r=String(v),!(!r||!!r.match(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i))||!(!h||H&&X)){e.next=11;break}return A(!0),e.next=7,_(v);case 7:A(!1),$({type:Z}),e.next=14;break;case 11:t=p,!h||H&&X||(t=d),q(t);case 14:case"end":return e.stop()}var r}),e)})));return function(e){return n.apply(this,arguments)}}();return u.default.createElement("div",{className:c.base},u.default.createElement("form",{onSubmit:J},u.default.createElement("div",{className:W},u.default.createElement("div",{className:c.footerNewsletterInputWrapper},u.default.createElement(l.TextInput,{"data-test-ref":"EMAIL_SIGN_UP_INPUT",hasContent:S,hasError:!!L,id:"newsletter-email",inputClassName:g.default(c.footerNewsletter),isEnabled:!T,label:"Email Address",name:"newsletter-email",onChange:function(e){E(e.target.value),U(e.target.value&&""!==e.target.value.trim())},theme:x})),u.default.createElement("button",{className:D,"data-test-ref":"EMAIL_SIGN_UP_BUTTON",disabled:!!T||!S},u.default.createElement(o.Icon,{className:z,name:"rightArrow",theme:x})),!!T&&u.default.createElement(i.Loading,{className:Y,isLoading:!0,theme:x})),u.default.createElement("div",{className:c.footerNewsletterErrorMessage},L),h?u.default.createElement("section",null,u.default.createElement(a.Checkbox,{content:w,dataTestRef:"EMAIL_SIGN_UP_SUBSCRIPTION_CHECKBOX",id:"subscription",isEnabled:!T,onChange:function(){return B(!H)},theme:x}),u.default.createElement(a.Checkbox,{content:f,dataTestRef:"EMAIL_SIGN_UP_TERMS_AND_CONDITIONS_CHECKBOX",id:"terms",isEnabled:!T,onChange:function(){return F(!X)},theme:x}),u.default.createElement("div",{className:c.termsAndConditionWrapper},u.default.createElement("div",{className:c.termsAndCondition},m))):u.default.createElement("div",{className:K},w)))};h.propTypes={className:_.default.string,consentErrorMsg:_.default.string,errorMessage:_.default.string,onClick:_.default.func,showTermsConditionsTextBox:_.default.bool,termsAndCondition:_.default.string,termsMessage:_.default.string,theme:_.default.string,subscriptionMessage:_.default.string},h.defaultProps={className:void 0,consentErrorMsg:void 0,errorMessage:"NEWSLETTER_SIGNUP",onClick:void 0,showTermsConditionsTextBox:!1,termsAndCondition:void 0,termsMessage:void 0,theme:"dark",subscriptionMessage:void 0},exports.NewsletterSignUp=h;
