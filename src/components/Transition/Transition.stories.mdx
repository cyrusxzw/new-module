import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import * as knobs from '@storybook/addon-knobs';
import { State } from '~.storybook/State';
import { Button } from '~/components/Button';
import { DefinitionList } from '~/components/DefinitionList';
import { DefinitionListFixture } from '~/components/DefinitionList/DefinitionList.fixture';
import { Transition } from './Transition';

<Meta title="Components/Transition" component={Transition} />

# Transition

<Canvas>
  <Story name="Base component">
    {(() => {
      const type = knobs.select(
        'type',
        [
          'fade',
          'shiftInDown',
          'shiftInLeft',
          'shiftInUp',
          'slideDown',
          'slideRight',
          'slideLeft',
          'slowFade',
          'zoom',
        ],
        'shiftInDown',
        'Presentation',
      );
      return (
        <State initialState={{ isActive: false }}>
          {(state, setState) => {
            const handleOnClick = () => {
              setState((state) => ({
                ...state,
                isActive: !state.isActive,
              }));
            };
            return (
              <React.Fragment>
                <Button onClick={handleOnClick} title="Toggle Transition">
                  Toggle Transition
                </Button>
                <Transition isActive={state.isActive} type={type}>
                  <DefinitionList items={DefinitionListFixture.items} />
                </Transition>
              </React.Fragment>
            );
          }}
        </State>
      );
    })()}
  </Story>
</Canvas>

## API

<ArgsTable of={Transition} />
