import { useRef } from 'react';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import * as knobs from '@storybook/addon-knobs';
import { useOnScreen } from '~/customHooks';
import { CarouselFixture } from '~/components/Carousel/Carousel.fixture';
import { Carousel } from '~/components/Carousel';
import { Podium } from './Podium';
import { PodiumFixture } from './Podium.fixture';

<Meta title="Components/Podium" component={Podium} />

# Podium

The **Podium** component abstracts a range of presentation functionality and requirements from components passed to it,
such as vertical padding, transitions (There is one umbrella transition for all children components), background colour (TBA)
and foreground theme colour (TBA).

Presented here with both `paddingTop` and `paddingBottom` set to `small`, and fade transitions in on mount.

_The black border is for demonstration purposes only._

<Canvas>
  <Story name="Base component">
    <div style={{ border: '1px solid #333', margin: '20px' }}>
      {(() => {
        const ref1 = useRef();
        const isOnScreen1 = useOnScreen(ref1);
        const ref2 = useRef();
        const isOnScreen2 = useOnScreen(ref2);
        const ref3 = useRef();
        const isOnScreen3 = useOnScreen(ref3);
        const ref4 = useRef();
        const isOnScreen4 = useOnScreen(ref4);
        const backgroundColor = knobs.text(
          'backgroundColor',
          '',
          'Presentation',
        );
        const theme = knobs.select(
          'theme',
          ['dark', 'light'],
          'dark',
          'Presentation',
        );
        const transition = knobs.select(
          'transition',
          [
            'fade',
            'shiftInDown',
            'shiftInLeft',
            'shiftInUp',
            'slideDown',
            'slideRight',
            'slowFade',
            'zoom',
          ],
          'fade',
          'Presentation',
        );
        return (
          <div>
            <Podium
              backgroundColor={backgroundColor}
              isActive={isOnScreen1}
              ref={ref1}
              theme={theme}
              transition={transition}
              className={'hellothere'}
            >
              <Carousel
                introduction={CarouselFixture.introduction}
                slides={CarouselFixture.slides}
              />
            </Podium>
            <Podium
              backgroundColor={backgroundColor}
              isActive={isOnScreen2}
              ref={ref2}
              theme={theme}
              transition={transition}
            >
              <Carousel
                introduction={CarouselFixture.introduction}
                slides={CarouselFixture.slides}
              />
            </Podium>
            <Podium
              backgroundColor={backgroundColor}
              isActive={isOnScreen3}
              ref={ref3}
              theme={theme}
              transition={transition}
            >
              <Carousel
                introduction={CarouselFixture.introduction}
                slides={CarouselFixture.slides}
              />
            </Podium>
            <Podium
              backgroundColor={backgroundColor}
              id={PodiumFixture.id}
              isActive={isOnScreen4}
              ref={ref4}
              theme={theme}
              transition={transition}
            >
              <Carousel
                introduction={CarouselFixture.introduction}
                slides={CarouselFixture.slides}
              />
            </Podium>
          </div>
        );
      })()}
    </div>
  </Story>
</Canvas>

## API

<ArgsTable of={Podium} />
