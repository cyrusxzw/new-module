import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import * as knobs from '@storybook/addon-knobs';
import { LoadMoreContextProvider } from '~/contexts';
import { LoadMoreButton } from './LoadMoreButton';
import { LoadMoreButtonFixture } from './LoadMoreButton.fixture';
import { mockOnClick as mockLoadMoreButtonOnClick } from './__mocks__/LoadMoreButton.onClick';

<Meta title="Components/LoadMoreButton" component={LoadMoreButton} />

# LoadMoreButton

Requires `LoadMoreContextProvider`, with a prop of `onClick`, which is a callback function that takes `LoadMoreDispatch<function>`, `LOAD_MORE_TYPES<array[string]>`
as arguments. See [LoadMoreButton.onClick.ts mock](https://github.com/aesop/aesop-gel/tree/develop/src/components/LoadMoreButton/__mocks__/LoadMoreButton.onClick.ts)
for an example.

<Canvas>
  <Story name="Base component">
    {(() => {
      return (
        <LoadMoreContextProvider onClick={mockLoadMoreButtonOnClick}>
          <LoadMoreButton
            className={LoadMoreButtonFixture.className}
            copy={LoadMoreButtonFixture.copy}
            dataTestRef={LoadMoreButtonFixture.dataTestRef}
            isEnabled={LoadMoreButtonFixture.isEnabled}
          />
        </LoadMoreContextProvider>
      );
    })()}
  </Story>
</Canvas>

## API

<ArgsTable of={LoadMoreButton} />
